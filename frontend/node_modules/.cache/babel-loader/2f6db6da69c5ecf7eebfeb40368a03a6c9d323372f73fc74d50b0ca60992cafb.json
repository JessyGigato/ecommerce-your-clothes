{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst types_1 = require(\"@inceptjs/types\");\nconst Route_1 = __importDefault(require(\"./Route\"));\nconst Request_1 = __importDefault(require(\"./Request\"));\nconst Response_1 = __importDefault(require(\"./Response\"));\nconst Exception_1 = __importDefault(require(\"./Exception\"));\nclass Router extends types_1.EventEmitter {\n  constructor() {\n    super(...arguments);\n    this.handle = (req = null, res = null) => __awaiter(this, void 0, void 0, function* () {\n      Exception_1.default.require(typeof req === 'object', 'Argument 1 expecting Object');\n      Exception_1.default.require(typeof res === 'object', 'Argument 2 expecting Object');\n      yield this.emit('open', req, res);\n      const request = this.makeRequest({\n        context: this,\n        resource: req\n      });\n      const response = this.makeResponse({\n        context: this,\n        resource: res\n      });\n      const event = request.method + ' ' + request.pathname;\n      const route = this.route(event);\n      yield route.handle(request, response);\n      yield this.emit('dispatch', request, response);\n      yield this.emit('close', req, res);\n    });\n  }\n  all(path, ...callbacks) {\n    Exception_1.default.require(typeof path === 'string', 'Argument 1 expected Stringg');\n    Exception_1.default.require(typeof callbacks[0] === 'function', 'Argument 2 expected Function');\n    let priority = 0;\n    if (typeof callbacks[callbacks.length - 1] === 'number') {\n      priority = callbacks.pop();\n    }\n    for (let i = 0; i < callbacks.length; i++) {\n      Exception_1.default.require(typeof callbacks[i] === 'function', `Argument ${i + 2} expected Function`);\n    }\n    this.route(path).all(...callbacks, priority);\n    return this;\n  }\n  connect(path, ...callbacks) {\n    Exception_1.default.require(typeof path === 'string', 'Argument 1 expected Stringg');\n    Exception_1.default.require(typeof callbacks[0] === 'function', 'Argument 2 expected Function');\n    let priority = 0;\n    if (typeof callbacks[callbacks.length - 1] === 'number') {\n      priority = callbacks.pop();\n    }\n    for (let i = 0; i < callbacks.length; i++) {\n      Exception_1.default.require(typeof callbacks[i] === 'function', `Argument ${i + 2} expected Function`);\n    }\n    this.route(path).connect(...callbacks, priority);\n    return this;\n  }\n  delete(path, ...callbacks) {\n    Exception_1.default.require(typeof path === 'string', 'Argument 1 expected Stringg');\n    Exception_1.default.require(typeof callbacks[0] === 'function', 'Argument 2 expected Function');\n    let priority = 0;\n    if (typeof callbacks[callbacks.length - 1] === 'number') {\n      priority = callbacks.pop();\n    }\n    for (let i = 0; i < callbacks.length; i++) {\n      Exception_1.default.require(typeof callbacks[i] === 'function', `Argument ${i + 2} expected Function`);\n    }\n    this.route(path).delete(...callbacks, priority);\n    return this;\n  }\n  get(path, ...callbacks) {\n    Exception_1.default.require(typeof path === 'string', 'Argument 1 expected Stringg');\n    Exception_1.default.require(typeof callbacks[0] === 'function', 'Argument 2 expected Function');\n    let priority = 0;\n    if (typeof callbacks[callbacks.length - 1] === 'number') {\n      priority = callbacks.pop();\n    }\n    for (let i = 0; i < callbacks.length; i++) {\n      Exception_1.default.require(typeof callbacks[i] === 'function', `Argument ${i + 2} expected Function`);\n    }\n    this.route(path).get(...callbacks, priority);\n    return this;\n  }\n  head(path, ...callbacks) {\n    Exception_1.default.require(typeof path === 'string', 'Argument 1 expected Stringg');\n    Exception_1.default.require(typeof callbacks[0] === 'function', 'Argument 2 expected Function');\n    let priority = 0;\n    if (typeof callbacks[callbacks.length - 1] === 'number') {\n      priority = callbacks.pop();\n    }\n    for (let i = 0; i < callbacks.length; i++) {\n      Exception_1.default.require(typeof callbacks[i] === 'function', `Argument ${i + 2} expected Function`);\n    }\n    this.route(path).head(...callbacks, priority);\n    return this;\n  }\n  makeRequest(init = null) {\n    var _a;\n    if (init === null) {\n      return new Request_1.default();\n    }\n    const {\n        url\n      } = init,\n      requestInit = __rest(init, [\"url\"]);\n    if (typeof url === 'string') {\n      return new Request_1.default(url, requestInit);\n    }\n    if (typeof ((_a = requestInit === null || requestInit === void 0 ? void 0 : requestInit.resource) === null || _a === void 0 ? void 0 : _a.url) === 'string') {\n      return new Request_1.default(requestInit.resource.url, requestInit);\n    }\n    return new Request_1.default(null, requestInit || {});\n  }\n  makeResponse(init = null) {\n    return new Response_1.default(null, init || {});\n  }\n  options(path, ...callbacks) {\n    Exception_1.default.require(typeof path === 'string', 'Argument 1 expected Stringg');\n    Exception_1.default.require(typeof callbacks[0] === 'function', 'Argument 2 expected Function');\n    let priority = 0;\n    if (typeof callbacks[callbacks.length - 1] === 'number') {\n      priority = callbacks.pop();\n    }\n    for (let i = 0; i < callbacks.length; i++) {\n      Exception_1.default.require(typeof callbacks[i] === 'function', `Argument ${i + 2} expected Function`);\n    }\n    this.route(path).options(...callbacks, priority);\n    return this;\n  }\n  params(request, method, path) {\n    Exception_1.default.require(request instanceof Request_1.default, 'Argument 1 expected Request');\n    Exception_1.default.require(typeof method === 'string', 'Argument 2 expected String');\n    Exception_1.default.require(typeof path === 'string', 'Argument 3 expected String');\n    method = method.toUpperCase();\n    if (method === 'ALL' || method === '*') {\n      method = '[A-Z]+';\n    }\n    const pattern = path.replace(/(\\:[a-zA-Z0-9\\-_]+)/g, '*').replaceAll('*', '([^/]+)').replaceAll('([^/]+)([^/]+)', '(.*)');\n    const route = {\n      event: `${request.method} ${request.pathname}`,\n      pattern: new RegExp(`^${method}\\\\s${pattern}/*$`, 'ig'),\n      args: [],\n      params: {}\n    };\n    const matches = Array.from(route.event.matchAll(pattern));\n    if (!Array.isArray(matches[0]) || !matches[0].length) {\n      return route;\n    }\n    const map = Array.from(path.matchAll(/(\\:[a-zA-Z0-9\\-_]+)|(\\*\\*)|(\\*)/g)).map(match => match[0]);\n    matches[0].slice().forEach((param, i) => {\n      if (!i) {\n        return;\n      }\n      if (typeof map[i - 1] !== 'string' || map[i - 1].indexOf('*') === 0) {\n        if (param.indexOf('/') === -1) {\n          return route.args.push(param);\n        }\n        return Array.prototype.push.apply(route.args, param.split('/'));\n      }\n      if (typeof map[i - 1] === 'string') {\n        route.params[map[i - 1].substr(1)] = param;\n      }\n    });\n    return route;\n  }\n  post(path, ...callbacks) {\n    Exception_1.default.require(typeof path === 'string', 'Argument 1 expected Stringg');\n    Exception_1.default.require(typeof callbacks[0] === 'function', 'Argument 2 expected Function');\n    let priority = 0;\n    if (typeof callbacks[callbacks.length - 1] === 'number') {\n      priority = callbacks.pop();\n    }\n    for (let i = 0; i < callbacks.length; i++) {\n      Exception_1.default.require(typeof callbacks[i] === 'function', `Argument ${i + 2} expected Function`);\n    }\n    this.route(path).post(...callbacks, priority);\n    return this;\n  }\n  put(path, ...callbacks) {\n    Exception_1.default.require(typeof path === 'string', 'Argument 1 expected Stringg');\n    Exception_1.default.require(typeof callbacks[0] === 'function', 'Argument 2 expected Function');\n    let priority = 0;\n    if (typeof callbacks[callbacks.length - 1] === 'number') {\n      priority = callbacks.pop();\n    }\n    for (let i = 0; i < callbacks.length; i++) {\n      Exception_1.default.require(typeof callbacks[i] === 'function', `Argument ${i + 2} expected Function`);\n    }\n    this.route(path).put(...callbacks, priority);\n    return this;\n  }\n  redirect(path, response) {\n    Exception_1.default.require(typeof path === 'string', 'Argument 1 expected String');\n    Exception_1.default.require(response instanceof Response_1.default, 'Argument 2 expected Request');\n    response.setStatus(307, 'Temporary Redirect');\n    response.headers.set('Location', path);\n    return this;\n  }\n  route(event) {\n    Exception_1.default.require(typeof event === 'string', 'Argument 1 expected String');\n    return new Route_1.default(event, this);\n  }\n  routeTo(method, path, request, response) {\n    return __awaiter(this, void 0, void 0, function* () {\n      Exception_1.default.require(typeof method === 'string', 'Argument 1 expected String');\n      Exception_1.default.require(typeof path === 'string', 'Argument 2 expected String');\n      Exception_1.default.require(request instanceof Request_1.default, 'Argument 3 expected Request');\n      Exception_1.default.require(response instanceof Response_1.default, 'Argument 4 expected Response');\n      const event = method.toUpperCase() + ' ' + path;\n      const route = this.route(event);\n      return yield route.handle(request, response);\n    });\n  }\n  trace(path, ...callbacks) {\n    Exception_1.default.require(typeof path === 'string', 'Argument 1 expected Stringg');\n    Exception_1.default.require(typeof callbacks[0] === 'function', 'Argument 2 expected Function');\n    let priority = 0;\n    if (typeof callbacks[callbacks.length - 1] === 'number') {\n      priority = callbacks.pop();\n    }\n    for (let i = 0; i < callbacks.length; i++) {\n      Exception_1.default.require(typeof callbacks[i] === 'function', `Argument ${i + 2} expected Function`);\n    }\n    this.route(path).trace(...callbacks, priority);\n    return this;\n  }\n  use(path, ...emitters) {\n    if (Array.isArray(path)) {\n      path.forEach(path => this.use(path, ...emitters));\n      return this;\n    }\n    if (typeof path === 'function' || path instanceof types_1.EventEmitter) {\n      emitters.unshift(path);\n    }\n    const validPath = typeof path === 'string' || path instanceof RegExp;\n    for (const emitter of emitters) {\n      if (Array.isArray(emitter)) {\n        if (validPath) {\n          this.use(path, ...emitter);\n        } else {\n          this.use(...emitter);\n        }\n        continue;\n      } else if (emitter instanceof types_1.EventEmitter) {\n        super.use(emitter);\n        continue;\n      } else if (typeof emitter !== 'function') {\n        continue;\n      }\n      if (validPath) {\n        this.all(path, callback);\n        continue;\n      }\n      const wrapper = function (req, res) {\n        return new Promise((resolve, reject) => {\n          const next = function (...args) {\n            if (args.length) {\n              reject(...args);\n            } else {\n              resolve(true);\n            }\n          };\n          emitter(req, res, next);\n        });\n      };\n      types_1.Reflection.rename(wrapper, emitter.name);\n      this.on('open', wrapper);\n    }\n    return this;\n  }\n}\nexports.default = Router;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__rest","s","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","__importDefault","mod","__esModule","defineProperty","exports","types_1","require","Route_1","Request_1","Response_1","Exception_1","Router","EventEmitter","constructor","arguments","handle","req","res","default","emit","request","makeRequest","context","resource","response","makeResponse","event","method","pathname","route","all","path","callbacks","priority","pop","connect","delete","get","head","init","_a","url","requestInit","options","params","toUpperCase","pattern","replace","replaceAll","RegExp","args","matches","Array","from","matchAll","isArray","map","match","slice","forEach","param","push","split","substr","post","put","redirect","setStatus","headers","set","routeTo","trace","use","emitters","unshift","validPath","emitter","callback","wrapper","Reflection","rename","name","on"],"sources":["C:/Users/jessy/Documents/work/PROGRAMACION/PROYECTOS/REACT/your-clothes/frontend/node_modules/@inceptjs/framework/dist/Router.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst types_1 = require(\"@inceptjs/types\");\nconst Route_1 = __importDefault(require(\"./Route\"));\nconst Request_1 = __importDefault(require(\"./Request\"));\nconst Response_1 = __importDefault(require(\"./Response\"));\nconst Exception_1 = __importDefault(require(\"./Exception\"));\nclass Router extends types_1.EventEmitter {\n    constructor() {\n        super(...arguments);\n        this.handle = (req = null, res = null) => __awaiter(this, void 0, void 0, function* () {\n            Exception_1.default.require(typeof req === 'object', 'Argument 1 expecting Object');\n            Exception_1.default.require(typeof res === 'object', 'Argument 2 expecting Object');\n            yield this.emit('open', req, res);\n            const request = this.makeRequest({\n                context: this,\n                resource: req\n            });\n            const response = this.makeResponse({\n                context: this,\n                resource: res\n            });\n            const event = request.method + ' ' + request.pathname;\n            const route = this.route(event);\n            yield route.handle(request, response);\n            yield this.emit('dispatch', request, response);\n            yield this.emit('close', req, res);\n        });\n    }\n    all(path, ...callbacks) {\n        Exception_1.default.require(typeof path === 'string', 'Argument 1 expected Stringg');\n        Exception_1.default.require(typeof callbacks[0] === 'function', 'Argument 2 expected Function');\n        let priority = 0;\n        if (typeof callbacks[callbacks.length - 1] === 'number') {\n            priority = callbacks.pop();\n        }\n        for (let i = 0; i < callbacks.length; i++) {\n            Exception_1.default.require(typeof callbacks[i] === 'function', `Argument ${i + 2} expected Function`);\n        }\n        this.route(path).all(...callbacks, priority);\n        return this;\n    }\n    connect(path, ...callbacks) {\n        Exception_1.default.require(typeof path === 'string', 'Argument 1 expected Stringg');\n        Exception_1.default.require(typeof callbacks[0] === 'function', 'Argument 2 expected Function');\n        let priority = 0;\n        if (typeof callbacks[callbacks.length - 1] === 'number') {\n            priority = callbacks.pop();\n        }\n        for (let i = 0; i < callbacks.length; i++) {\n            Exception_1.default.require(typeof callbacks[i] === 'function', `Argument ${i + 2} expected Function`);\n        }\n        this.route(path).connect(...callbacks, priority);\n        return this;\n    }\n    delete(path, ...callbacks) {\n        Exception_1.default.require(typeof path === 'string', 'Argument 1 expected Stringg');\n        Exception_1.default.require(typeof callbacks[0] === 'function', 'Argument 2 expected Function');\n        let priority = 0;\n        if (typeof callbacks[callbacks.length - 1] === 'number') {\n            priority = callbacks.pop();\n        }\n        for (let i = 0; i < callbacks.length; i++) {\n            Exception_1.default.require(typeof callbacks[i] === 'function', `Argument ${i + 2} expected Function`);\n        }\n        this.route(path).delete(...callbacks, priority);\n        return this;\n    }\n    get(path, ...callbacks) {\n        Exception_1.default.require(typeof path === 'string', 'Argument 1 expected Stringg');\n        Exception_1.default.require(typeof callbacks[0] === 'function', 'Argument 2 expected Function');\n        let priority = 0;\n        if (typeof callbacks[callbacks.length - 1] === 'number') {\n            priority = callbacks.pop();\n        }\n        for (let i = 0; i < callbacks.length; i++) {\n            Exception_1.default.require(typeof callbacks[i] === 'function', `Argument ${i + 2} expected Function`);\n        }\n        this.route(path).get(...callbacks, priority);\n        return this;\n    }\n    head(path, ...callbacks) {\n        Exception_1.default.require(typeof path === 'string', 'Argument 1 expected Stringg');\n        Exception_1.default.require(typeof callbacks[0] === 'function', 'Argument 2 expected Function');\n        let priority = 0;\n        if (typeof callbacks[callbacks.length - 1] === 'number') {\n            priority = callbacks.pop();\n        }\n        for (let i = 0; i < callbacks.length; i++) {\n            Exception_1.default.require(typeof callbacks[i] === 'function', `Argument ${i + 2} expected Function`);\n        }\n        this.route(path).head(...callbacks, priority);\n        return this;\n    }\n    makeRequest(init = null) {\n        var _a;\n        if (init === null) {\n            return new Request_1.default;\n        }\n        const { url } = init, requestInit = __rest(init, [\"url\"]);\n        if (typeof url === 'string') {\n            return new Request_1.default(url, requestInit);\n        }\n        if (typeof ((_a = requestInit === null || requestInit === void 0 ? void 0 : requestInit.resource) === null || _a === void 0 ? void 0 : _a.url) === 'string') {\n            return new Request_1.default(requestInit.resource.url, requestInit);\n        }\n        return new Request_1.default(null, requestInit || {});\n    }\n    makeResponse(init = null) {\n        return new Response_1.default(null, init || {});\n    }\n    options(path, ...callbacks) {\n        Exception_1.default.require(typeof path === 'string', 'Argument 1 expected Stringg');\n        Exception_1.default.require(typeof callbacks[0] === 'function', 'Argument 2 expected Function');\n        let priority = 0;\n        if (typeof callbacks[callbacks.length - 1] === 'number') {\n            priority = callbacks.pop();\n        }\n        for (let i = 0; i < callbacks.length; i++) {\n            Exception_1.default.require(typeof callbacks[i] === 'function', `Argument ${i + 2} expected Function`);\n        }\n        this.route(path).options(...callbacks, priority);\n        return this;\n    }\n    params(request, method, path) {\n        Exception_1.default.require(request instanceof Request_1.default, 'Argument 1 expected Request');\n        Exception_1.default.require(typeof method === 'string', 'Argument 2 expected String');\n        Exception_1.default.require(typeof path === 'string', 'Argument 3 expected String');\n        method = method.toUpperCase();\n        if (method === 'ALL' || method === '*') {\n            method = '[A-Z]+';\n        }\n        const pattern = path\n            .replace(/(\\:[a-zA-Z0-9\\-_]+)/g, '*')\n            .replaceAll('*', '([^/]+)')\n            .replaceAll('([^/]+)([^/]+)', '(.*)');\n        const route = {\n            event: `${request.method} ${request.pathname}`,\n            pattern: new RegExp(`^${method}\\\\s${pattern}/*$`, 'ig'),\n            args: [],\n            params: {}\n        };\n        const matches = Array.from(route.event.matchAll(pattern));\n        if (!Array.isArray(matches[0]) || !matches[0].length) {\n            return route;\n        }\n        const map = Array.from(path.matchAll(/(\\:[a-zA-Z0-9\\-_]+)|(\\*\\*)|(\\*)/g)).map(match => match[0]);\n        matches[0].slice().forEach((param, i) => {\n            if (!i) {\n                return;\n            }\n            if (typeof map[i - 1] !== 'string'\n                || map[i - 1].indexOf('*') === 0) {\n                if (param.indexOf('/') === -1) {\n                    return route.args.push(param);\n                }\n                return Array.prototype.push.apply(route.args, param.split('/'));\n            }\n            if (typeof map[i - 1] === 'string') {\n                route.params[map[i - 1].substr(1)] = param;\n            }\n        });\n        return route;\n    }\n    post(path, ...callbacks) {\n        Exception_1.default.require(typeof path === 'string', 'Argument 1 expected Stringg');\n        Exception_1.default.require(typeof callbacks[0] === 'function', 'Argument 2 expected Function');\n        let priority = 0;\n        if (typeof callbacks[callbacks.length - 1] === 'number') {\n            priority = callbacks.pop();\n        }\n        for (let i = 0; i < callbacks.length; i++) {\n            Exception_1.default.require(typeof callbacks[i] === 'function', `Argument ${i + 2} expected Function`);\n        }\n        this.route(path).post(...callbacks, priority);\n        return this;\n    }\n    put(path, ...callbacks) {\n        Exception_1.default.require(typeof path === 'string', 'Argument 1 expected Stringg');\n        Exception_1.default.require(typeof callbacks[0] === 'function', 'Argument 2 expected Function');\n        let priority = 0;\n        if (typeof callbacks[callbacks.length - 1] === 'number') {\n            priority = callbacks.pop();\n        }\n        for (let i = 0; i < callbacks.length; i++) {\n            Exception_1.default.require(typeof callbacks[i] === 'function', `Argument ${i + 2} expected Function`);\n        }\n        this.route(path).put(...callbacks, priority);\n        return this;\n    }\n    redirect(path, response) {\n        Exception_1.default.require(typeof path === 'string', 'Argument 1 expected String');\n        Exception_1.default.require(response instanceof Response_1.default, 'Argument 2 expected Request');\n        response.setStatus(307, 'Temporary Redirect');\n        response.headers.set('Location', path);\n        return this;\n    }\n    route(event) {\n        Exception_1.default.require(typeof event === 'string', 'Argument 1 expected String');\n        return new Route_1.default(event, this);\n    }\n    routeTo(method, path, request, response) {\n        return __awaiter(this, void 0, void 0, function* () {\n            Exception_1.default.require(typeof method === 'string', 'Argument 1 expected String');\n            Exception_1.default.require(typeof path === 'string', 'Argument 2 expected String');\n            Exception_1.default.require(request instanceof Request_1.default, 'Argument 3 expected Request');\n            Exception_1.default.require(response instanceof Response_1.default, 'Argument 4 expected Response');\n            const event = method.toUpperCase() + ' ' + path;\n            const route = this.route(event);\n            return yield route.handle(request, response);\n        });\n    }\n    trace(path, ...callbacks) {\n        Exception_1.default.require(typeof path === 'string', 'Argument 1 expected Stringg');\n        Exception_1.default.require(typeof callbacks[0] === 'function', 'Argument 2 expected Function');\n        let priority = 0;\n        if (typeof callbacks[callbacks.length - 1] === 'number') {\n            priority = callbacks.pop();\n        }\n        for (let i = 0; i < callbacks.length; i++) {\n            Exception_1.default.require(typeof callbacks[i] === 'function', `Argument ${i + 2} expected Function`);\n        }\n        this.route(path).trace(...callbacks, priority);\n        return this;\n    }\n    use(path, ...emitters) {\n        if (Array.isArray(path)) {\n            path.forEach(path => this.use(path, ...emitters));\n            return this;\n        }\n        if (typeof path === 'function' || path instanceof types_1.EventEmitter) {\n            emitters.unshift(path);\n        }\n        const validPath = typeof path === 'string' || path instanceof RegExp;\n        for (const emitter of emitters) {\n            if (Array.isArray(emitter)) {\n                if (validPath) {\n                    this.use(path, ...emitter);\n                }\n                else {\n                    this.use(...emitter);\n                }\n                continue;\n            }\n            else if (emitter instanceof types_1.EventEmitter) {\n                super.use(emitter);\n                continue;\n            }\n            else if (typeof emitter !== 'function') {\n                continue;\n            }\n            if (validPath) {\n                this.all(path, callback);\n                continue;\n            }\n            const wrapper = function (req, res) {\n                return new Promise((resolve, reject) => {\n                    const next = function (...args) {\n                        if (args.length) {\n                            reject(...args);\n                        }\n                        else {\n                            resolve(true);\n                        }\n                    };\n                    emitter(req, res, next);\n                });\n            };\n            types_1.Reflection.rename(wrapper, emitter.name);\n            this.on('open', wrapper);\n        }\n        return this;\n    }\n}\nexports.default = Router;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}