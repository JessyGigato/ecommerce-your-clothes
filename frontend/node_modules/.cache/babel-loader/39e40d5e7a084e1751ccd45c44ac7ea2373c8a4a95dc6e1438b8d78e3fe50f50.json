{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst fs_1 = __importDefault(require(\"fs\"));\nconst fs = fs_1.default;\nconst syncToPatch = ['readFileSync', 'existsSync', 'lstatSync', 'statSync', 'realpathSync', 'readdirSync'];\nconst asyncToPatch = ['readFile', 'exists', 'lstat', 'stat', 'realpath', 'readdir'];\nfunction syncMethod(method, original, vfs) {\n  return (...args) => {\n    let results;\n    try {\n      results = original[method].apply(fs, args);\n    } catch (fsError) {\n      try {\n        return vfs[method].apply(vfs, args);\n      } catch (vfsError) {\n        throw fsError;\n      }\n    }\n    if (results === false) {\n      return vfs[method].apply(vfs, args);\n    }\n    return results;\n  };\n}\nfunction asyncMethod(method, original, vfs) {\n  return (...args) => {\n    let callback = null;\n    if (typeof args[args.length - 1] === 'function') {\n      callback = args.pop();\n    }\n    try {\n      const results = syncMethod(`${method}Sync`, original, vfs).apply(null, args);\n      if (typeof callback === 'function') {\n        callback(null, results);\n      } else {\n        return {\n          then: function (callback) {\n            callback(results);\n            return this;\n          },\n          catch: function (callback) {\n            return this;\n          }\n        };\n      }\n    } catch (error) {\n      if (typeof callback === 'function') {\n        callback(error, null);\n      } else {\n        return {\n          then: function (callback) {\n            return this;\n          },\n          catch: function (callback) {\n            callback(error);\n            return this;\n          }\n        };\n      }\n    }\n  };\n}\nfunction patchFS(vfs) {\n  const original = {};\n  for (const method of syncToPatch) {\n    original[method] = fs[method];\n    fs[method] = syncMethod(method, original, vfs);\n  }\n  for (const method of asyncToPatch) {\n    original[method] = fs[method];\n    fs[method] = asyncMethod(method, original, vfs);\n  }\n  return function revertFS() {\n    for (const method of syncToPatch) {\n      fs[method] = original[method];\n    }\n    for (const method of asyncToPatch) {\n      fs[method] = original[method];\n    }\n  };\n}\nexports.default = patchFS;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","fs_1","require","fs","default","syncToPatch","asyncToPatch","syncMethod","method","original","vfs","args","results","apply","fsError","vfsError","asyncMethod","callback","length","pop","then","catch","error","patchFS","revertFS"],"sources":["C:/Users/jessy/Documents/work/PROGRAMACION/PROYECTOS/REACT/your-clothes/frontend/node_modules/virtual_modules/dist/patchFS.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs_1 = __importDefault(require(\"fs\"));\nconst fs = fs_1.default;\nconst syncToPatch = [\n    'readFileSync',\n    'existsSync',\n    'lstatSync',\n    'statSync',\n    'realpathSync',\n    'readdirSync'\n];\nconst asyncToPatch = [\n    'readFile',\n    'exists',\n    'lstat',\n    'stat',\n    'realpath',\n    'readdir'\n];\nfunction syncMethod(method, original, vfs) {\n    return (...args) => {\n        let results;\n        try {\n            results = original[method].apply(fs, args);\n        }\n        catch (fsError) {\n            try {\n                return vfs[method].apply(vfs, args);\n            }\n            catch (vfsError) {\n                throw fsError;\n            }\n        }\n        if (results === false) {\n            return vfs[method].apply(vfs, args);\n        }\n        return results;\n    };\n}\nfunction asyncMethod(method, original, vfs) {\n    return (...args) => {\n        let callback = null;\n        if (typeof args[args.length - 1] === 'function') {\n            callback = args.pop();\n        }\n        try {\n            const results = syncMethod(`${method}Sync`, original, vfs).apply(null, args);\n            if (typeof callback === 'function') {\n                callback(null, results);\n            }\n            else {\n                return {\n                    then: function (callback) {\n                        callback(results);\n                        return this;\n                    },\n                    catch: function (callback) {\n                        return this;\n                    }\n                };\n            }\n        }\n        catch (error) {\n            if (typeof callback === 'function') {\n                callback(error, null);\n            }\n            else {\n                return {\n                    then: function (callback) {\n                        return this;\n                    },\n                    catch: function (callback) {\n                        callback(error);\n                        return this;\n                    }\n                };\n            }\n        }\n    };\n}\nfunction patchFS(vfs) {\n    const original = {};\n    for (const method of syncToPatch) {\n        original[method] = fs[method];\n        fs[method] = syncMethod(method, original, vfs);\n    }\n    for (const method of asyncToPatch) {\n        original[method] = fs[method];\n        fs[method] = asyncMethod(method, original, vfs);\n    }\n    return function revertFS() {\n        for (const method of syncToPatch) {\n            fs[method] = original[method];\n        }\n        for (const method of asyncToPatch) {\n            fs[method] = original[method];\n        }\n    };\n}\nexports.default = patchFS;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}